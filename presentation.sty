\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{presentation}
\RequirePackage{graphicx}
\RequirePackage{fontawesome5}
\RequirePackage{esvect}
\RequirePackage{esint}
\RequirePackage{notation}
\RequirePackage[skins]{tcolorbox}
\RequirePackage{ifthen}
\RequirePackage{comment}
\RequirePackage{pdfcol}
\RequirePackage{framed}
\RequirePackage{multirow}

\RequirePackage{pgfplots}
\RequirePackage[locale=FR]{siunitx}
\RequirePackage{tikz}
\usetikzlibrary{decorations.pathmorphing,patterns,arrows.meta,angles,quotes}
\tikzset{>=latex}
\RequirePackage[european,straightvoltages, RPvoltages, siunitx]{circuitikz}
\usetikzlibrary{babel}
\usetikzlibrary{optics}

% ---------------------------------------------------
% Couleur
% ---------------------------------------------------
\definecolor{chapter}{HTML}{009988}
\definecolor{attention}{HTML}{CC3311}
\definecolor{application}{HTML}{0077BB}
\definecolor{methode}{HTML}{009988}
\definecolor{definition}{HTML}{009988}
\definecolor{equation}{HTML}{009988}
\definecolor{theoreme}{HTML}{009988}
\definecolor{tableau}{HTML}{EE7733}
\definecolor{rappel}{HTML}{BBBBBB}
\definecolor{test}{HTML}{0077BB}

% Space
\newcommand{\imp}[1]{{\bfseries \color{definition} #1}}

% --------------------------------------
% Options
% -------------------------------------
\newif\if@student
\DeclareOption{student}{\@studenttrue}

\ProcessOptions

% --------------------------------------------
% Divers commandes
% --------------------------------------------
\setlength{\parindent}{0pt}
\newcommand{\condition}{}
\newcommand{\tSquare}{\textcolor{test}{\faSquare}\ }
\newcommand{\tCircle}{\textcolor{test}{\faCircle}\ }
\newcommand{\tPlay}{\textcolor{test}{\faPlay}\ }
% -------------------------------------
% Blank
% -------------------------------------
\newcommand{\blank}[1]{{\bfseries #1}}
\renewcommand{\blank}[1]{{\Large \textcolor{attention}{#1}}}

\newcommand{\blankspace}[1]{{\bfseries #1}}
\renewcommand{\blankspace}[1]{{\Large \textcolor{attention}{#1}}}

% -------------------------------------
% Compteur
% -------------------------------------
\newcounter{application}
\newcounter{test}
\newcounter{tableau}

% --------------------------------------------
% tccolorbox
% --------------------------------------------
\tcbuselibrary{breakable}
\tcbuselibrary{skins}
\tcbset{skin=enhanced, breakable=true, parbox=false, beforeafter skip=9pt}

% -----------------------------------
% Environnements
% -----------------------------------
% Rappel
\newenvironment{rappel}
{
\begin{tcolorbox}[enhanced, frame hidden,
       %interior hidden, 
       coltitle=black,
       colback=rappel!20,
       colbacktitle=rappel!20,
       title=\faFileUpload\ Rappel, 
       fonttitle=\bfseries,
       attach title to upper={\ --- \ },
       borderline east= {2pt}{1pt}{rappel},
       borderline west= {2pt}{1pt}{rappel}
       ] 
}
{
\end{tcolorbox}
}


% tableau
\newenvironment{tableau}
{
\refstepcounter{tableau}
\begin{tcolorbox}[enhanced, frame hidden,
       interior hidden, 
       coltitle=tableau,
       title=\faChalkboardTeacher\ Au tableau~\thetableau, 
       fonttitle=\bfseries,
       borderline east= {2pt}{1pt}{tableau},
       borderline west= {2pt}{1pt}{tableau}
       ] 
}
{
\end{tcolorbox}
}

\newenvironment{eqn}[2][]
{
\ifthenelse{\equal{#1}{}}
	{\tcbset{lowerbox=ignored}}
	{
	\tcbset{lowerbox=visible}
	\renewcommand{\condition}{#1}
	}

\begin{tcolorbox}[colback=white, colframe=equation,
       right=3pt, bottom=5pt, 
       colbacktitle=white, coltitle=equation,
       attach boxed title to top left={xshift=2mm, yshift=-3mm},
       boxed title style = {colframe=white},
       title=\faSquareRoot* \ #2, fonttitle=\bfseries]
}
{
\tcblower
\textcolor{equation}{\faCheckSquare}\ \condition
\end{tcolorbox}
}

\newenvironment{application}
{
\refstepcounter{application}
\begin{tcolorbox}[  
       enhanced, frame hidden,
       interior hidden, 
       coltitle=application,
       title=\faEdit\ Application~\theapplication, 
       fonttitle=\bfseries,
       borderline west=
       {2pt}{1pt}{application}
       ] 
}
{
\end{tcolorbox}
}

% Définition
\newenvironment{defn}
{
\begin{tcolorbox}[colback=white, colframe=definition,
       right=3pt, bottom=5pt, colbacktitle=white, coltitle=definition,
       attach boxed title to top left={xshift=2mm, yshift=-3mm},
       boxed title style = {colframe=white},
       title=\faSave\ Définition, fonttitle=\bfseries]
}
{
\end{tcolorbox}
}

% Coeur
\newenvironment{coeur}
{
\begin{tcolorbox}[colback=white, colframe=definition,
       right=3pt, colbacktitle=white, coltitle=definition,
       attach boxed title to top left={xshift=2mm, yshift=-3mm},
       boxed title style = {colframe=white},
       title=\faHeart\ À retenir, fonttitle=\bfseries]
}
{
\end{tcolorbox}
}

% Théorème
\newenvironment{theoreme}[1]
{
\begin{tcolorbox}[colback=white, colframe=theoreme,
       right=3pt, bottom=5pt, colbacktitle=white, coltitle=theoreme,
       attach boxed title to top left={xshift=2mm, yshift=-3mm},
       boxed title style = {colframe=white},
       title=\faUserGraduate\ #1, fonttitle=\bfseries]
}
{
\end{tcolorbox}
}

%Remarques
\newenvironment{rema}
{
\begin{tcolorbox}[colback=white, colframe=white,right=3pt]
\textbf{Remarque : }
}
{
\end{tcolorbox}
}

% Attention 
\newenvironment{attention}
{
\begin{tcolorbox}[colback=attention!20, 
       colframe=white,
       right=3pt, bottom=5pt, 
       colbacktitle=white, coltitle=attention,
       attach boxed title to top left={xshift=0mm, yshift=0mm},
       boxed title style = {colframe=white},
       title=\faExclamationTriangle\ Attention, 
       fonttitle=\bfseries]
}
{
\end{tcolorbox}
}

\newenvironment{methode}
{
\begin{tcolorbox}[colback=white, colframe=methode,
       right=3pt, bottom=5pt, 
       colbacktitle=white, coltitle=methode,
       attach boxed title to top left={xshift=2mm, yshift=-3mm},
       boxed title style = {colframe=white},
       title=\faToolbox\ Méthode, 
       fonttitle=\bfseries]
}
{
\end{tcolorbox}
}

\newenvironment{test}
{
\refstepcounter{test}
\begin{tcolorbox}[  
       enhanced, frame hidden,
       interior hidden, 
       coltitle=test,
       title=Test~\thetest, 
       fonttitle=\bfseries,
       borderline west=
       {2pt}{1pt}{test}
       ] 
}
{
\end{tcolorbox}
}

\newenvironment{experience}
{
\begin{tcolorbox}[colback=white, colframe=methode,
       right=3pt, bottom=5pt, 
       colbacktitle=methode, coltitle=white,
       title=\faMicroscope\ Activité expérimentale, toprule=1mm, bottomrule=1mm,
       fonttitle=\bfseries]
}
{
\end{tcolorbox}
}

\newenvironment{python}
{
\begin{tcolorbox}[colback=white, colframe=methode,
       right=3pt, bottom=5pt, 
       colbacktitle=methode, coltitle=white,
       title=\faPython\ Activité numérique, toprule=1mm, bottomrule=1mm,
       fonttitle=\bfseries]
}
{
\end{tcolorbox}
}

\newenvironment{exemple}
{
\begin{tcolorbox}[enhanced, frame hidden,
       %interior hidden, 
       coltitle=black,
       colback=rappel!20,
       colbacktitle=rappel!20,
       title=\faSearchPlus\ Exemple, 
       fonttitle=\bfseries,
       attach title to upper={\ --- \ },
       borderline east= {2pt}{1pt}{rappel},
       borderline west= {2pt}{1pt}{rappel}
       ] 
}
{
\end{tcolorbox}
}

\newcommand{\remplir}{\dots\,\dots}

\newenvironment{hp}
{
\begin{tcolorbox}[colback=white, colframe=black,
       right=3pt, bottom=5pt, 
       colbacktitle=white, 
	attach boxed title to top left={xshift=2mm, yshift=-4mm},
       boxed title style = {colframe=white},
       coltitle=black,
       title=Hypothèses de travail, toprule=1mm, bottomrule=1mm,
       fonttitle=\bfseries]
}
{
\end{tcolorbox}
}

\newcounter{exercice}[section]

\newenvironment{exercice}[1]
{
\refstepcounter{exercice}
\begin{tcolorbox}[enhanced, frame hidden,
       %interior hidden, 
       coltitle=black,
       colback=white,
       colbacktitle=white,
       title=\theexercice.~#1, 
       fonttitle=\bfseries \large,
       width=\linewidth, left=0mm, right=0mm]
}
{
\end{tcolorbox}
}
\newcommand{\helptikz}{
\draw[style=help lines,gray!50] (-7cm,-7cm) grid[step=0.5cm] (7cm,7cm);}

